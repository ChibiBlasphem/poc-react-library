{"version":3,"file":"IdiomaticExpandableCard.stories.f987f6c9.js","sources":["../../node_modules/react-typed-slots/dist/react-typed-slots.es.js","../../src/components/IdiomaticExpandableCard/IdiomaticExpandableCard.styles.ts","../../src/components/IdiomaticExpandableCard/IdiomaticExpandableCard.tsx"],"sourcesContent":["import require$$0, { createContext, useContext, useEffect, Children, useState, useCallback } from \"react\";\nfunction createSlotContext(slotsNames) {\n  return createContext(void 0);\n}\nvar jsxRuntime = { exports: {} };\nvar reactJsxRuntime_production_min = {};\n/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar f = require$$0, k = Symbol.for(\"react.element\"), l = Symbol.for(\"react.fragment\"), m = Object.prototype.hasOwnProperty, n = f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, p = { key: true, ref: true, __self: true, __source: true };\nfunction q(c, a, g) {\n  var b, d = {}, e = null, h = null;\n  g !== void 0 && (e = \"\" + g);\n  a.key !== void 0 && (e = \"\" + a.key);\n  a.ref !== void 0 && (h = a.ref);\n  for (b in a)\n    m.call(a, b) && !p.hasOwnProperty(b) && (d[b] = a[b]);\n  if (c && c.defaultProps)\n    for (b in a = c.defaultProps, a)\n      d[b] === void 0 && (d[b] = a[b]);\n  return { $$typeof: k, type: c, key: e, ref: h, props: d, _owner: n.current };\n}\nreactJsxRuntime_production_min.Fragment = l;\nreactJsxRuntime_production_min.jsx = q;\nreactJsxRuntime_production_min.jsxs = q;\n{\n  jsxRuntime.exports = reactJsxRuntime_production_min;\n}\nconst jsx = jsxRuntime.exports.jsx;\nconst jsxs = jsxRuntime.exports.jsxs;\nfunction getComponentName(Component) {\n  var _a;\n  return (_a = Component.displayName) != null ? _a : Component.name;\n}\nfunction initializeSlots(slotsNames) {\n  const entries = slotsNames.map((n2) => [uncapitalize(n2), null]);\n  return Object.fromEntries(entries);\n}\nfunction capitalize(s) {\n  var _a;\n  return ((_a = s.charAt(0)) == null ? void 0 : _a.toUpperCase()) + s.slice(1);\n}\nfunction uncapitalize(s) {\n  var _a;\n  return ((_a = s.charAt(0)) == null ? void 0 : _a.toLowerCase()) + s.slice(1);\n}\nfunction isElement(element) {\n  return !!element && element.hasOwnProperty(\"type\");\n}\nfunction createSlotter(...slotsNames) {\n  const SlotContext = createSlotContext();\n  function createSlot(id) {\n    const $$identifier = id;\n    const Element = ({\n      children\n    }) => {\n      const ctx = useContext(SlotContext);\n      useEffect(() => {\n        if (!ctx) {\n          throw new Error(\"SlotRef.Element must be used as children of a slotted component\");\n        }\n        ctx.setSlot($$identifier, children);\n      }, [children, ctx]);\n      return null;\n    };\n    return {\n      Element,\n      get $$identifier() {\n        return $$identifier;\n      }\n    };\n  }\n  const useSlots = () => {\n    const ctx = useContext(SlotContext);\n    if (!ctx) {\n      throw new Error(\"\");\n    }\n    return ctx.slots;\n  };\n  const makeSlottable = function(Component) {\n    const slotsRefs = slotsNames.map((slotName) => createSlot(slotName));\n    const descriptor = {};\n    for (const slotName of slotsNames) {\n      const slotRef = slotsRefs.find((s) => s.$$identifier === slotName);\n      if (!slotRef) {\n        throw new Error(`Something went wrong when trying to get reference for slot \"${slotName}\"`);\n      }\n      descriptor[capitalize(slotName)] = {\n        value: slotRef.Element,\n        writable: false\n      };\n    }\n    const SlottedComponent = function SlottedComponent2({\n      children: passedChildren,\n      ...props\n    }) {\n      const children = Children.toArray(passedChildren).map((child) => {\n        if (!isElement(child))\n          return null;\n        return slotsRefs.find((s) => s.Element === child.type) ? child : null;\n      });\n      const [slots, setSlots] = useState(() => initializeSlots(slotsNames));\n      const setSlot = useCallback((id, node) => {\n        setSlots((currentSlots) => {\n          const uncapitalizedSlotName = uncapitalize(id);\n          if (currentSlots[uncapitalizedSlotName] === node)\n            return currentSlots;\n          return {\n            ...currentSlots,\n            [uncapitalizedSlotName]: node\n          };\n        });\n      }, []);\n      return /* @__PURE__ */ jsxs(SlotContext.Provider, {\n        value: {\n          slots,\n          setSlot\n        },\n        children: [children, /* @__PURE__ */ jsx(Component, {\n          ...props\n        })]\n      });\n    };\n    SlottedComponent.displayName = `Slotted(${getComponentName(Component)})`;\n    return Object.defineProperties(SlottedComponent, descriptor);\n  };\n  return {\n    makeSlottable,\n    useSlots\n  };\n}\nexport { createSlotter };\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  border: 1px solid #eaeaea;\n  background-color: #fff;\n  border-radius: 7px;\n  box-shadow: 0 2px 1px 0 rgba(0, 0, 0, 0.3);\n  margin: 15px 0;\n`;\n\nexport const Body = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 63px;\n  align-items: center;\n  height: 70px;\n`;\n\nexport const Content = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: calc(100% - 63px);\n  height: 55px;\n  padding: 0 30px;\n  border-right: 2px solid #eaeaea;\n`;\n\nexport const ToggleDetails = styled.button`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 63px;\n  cursor: pointer;\n  background-color: transparent;\n  border: none;\n\n  & > svg {\n    transition: transform 0.5s;\n  }\n`;\n\nexport const Details = styled.div`\n  border-top: 2px solid #eaeaea;\n  padding: 25px;\n`;\n","import { faChevronDown } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { createSlotter } from 'react-typed-slots';\nimport { useToggle } from '../../hooks/useToggle';\nimport { Body, Container, Content, Details, ToggleDetails } from './IdiomaticExpandableCard.styles';\n\nexport interface IdiomaticExpandableCardProps {\n  expandable?: boolean;\n}\n\nconst { makeSlottable, useSlots } = createSlotter('Title', 'Details');\n\nexport const IdiomaticExpandableCard = makeSlottable(function ExpandableCard({\n  expandable = true,\n}: IdiomaticExpandableCardProps) {\n  const [isDetailOpened, toggleDetailOpened] = useToggle(false);\n  const { title, details } = useSlots();\n\n  return (\n    <>\n      <Container>\n        <Body>\n          <Content>{title}</Content>\n          {expandable && (\n            <ToggleDetails onClick={toggleDetailOpened}>\n              <FontAwesomeIcon\n                icon={faChevronDown}\n                rotation={isDetailOpened ? 180 : undefined}\n                size=\"2x\"\n              />\n            </ToggleDetails>\n          )}\n        </Body>\n        {expandable && isDetailOpened && (\n          <Details data-testid=\"expandable-card_detail\">{details}</Details>\n        )}\n      </Container>\n    </>\n  );\n});\n"],"names":["createContext","require$$0","useContext","useEffect","Children","useState","useCallback","makeSlottable","useSlots","title","details","_jsx","_Fragment","_jsxs","toggleDetailOpened","faChevronDown","undefined"],"mappings":"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"}